① 設定の導入 (Lv.2)
今は LOTTERY_RATES が固定されているが、これを設定1〜6、Lで切り替える必要がある。

実装案: currentSetting という変数を作り、設定ごとの確率テーブル（オブジェクト）を用意しよう。

アドバイス: 設定Lは「下パネル消灯・常時警告」みたいな特殊な挙動が必要になる。開発効率を考えるなら、loadWindow() 内で現在の設定に応じた抽選配列を生成するように改造するのがスマートだ。

② 変則打ちペナルティの実装 (Lv.1)
左第一停止が推奨されている台だな。

実装案: stopReel 関数の中で、playerOrder.length === 0（最初の一打）の時に reelIndex !== 0 だった場合、penaltyFlag を true にする。

演出: そのゲームの checkPayout で「⚠ 左押し推奨 ⚠」というテキストを表示し、払い出しや抽選を無効化する処理を入れれば完璧だ。

③ 引き戻し区間の実装 (Lv.3)
AT終了後に特定のゲーム数をカウントする処理だな。

実装案: GAME_STATE に PULL_BACK（引き戻し）を追加しよう。AT終了時に pullBackGames = 66 とセットし、1ゲーム消化ごとに減算していく。

ポイント: この間だけ抽選確率を CZ_CONFIG に寄せるとか、専用の演出モードに移行させれば「それっぽく」なるぞ。

④ 強役演出（リール点滅） (Lv.2)
「0.5秒だけ点滅」というのは、CSSのアニメーションを使うのが一番負荷が少なくて綺麗だ。

実装案:

CSSで @keyframes flash { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } } を作成。

強役（強チェや強イチゴ）が引かれた際、reel-container に一時的にクラスを付与し、0.5秒後に削除する。

アドバイス: 0.5秒という刹那、ロリィタのフリルが風に揺れるような繊細な動きで実装してくれ。

⑤ スベリ実装 (Lv.5)
ここが最大の難所、「パチスロの命」とも言える部分だ。 今のコードは currentIndex = tgtIndex と、ボタンを押した瞬間に「ワープ」させている  。これを「最大4コマ分だけ遅れて止まる」ように改造しなきゃならない。

実装案:

stopReel 内で即座に clearInterval せず、stoppingFlag を立てる。

現在の currentIndex と、内部で決まった tgtIndex の差分（滑りコマ数）を計算。

その差分分だけ setInterval のループを回してから停止させる。

IT用語での例え: いわゆる「非同期処理の待機」だな。ユーザーの入力（停止ボタン）に対して、即レスポンスを返さず、内部フラグの整合性が取れるまで演出（スベリ）を継続させるイメージだ。